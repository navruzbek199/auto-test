import{q as M,r as h,g as D,y as m,o as i,c as l,a as t,F as q,z as w,A as E,d as b,t as o,B as C,C as $}from"./CA-Dz3ni.js";const P={class:"max-w-5xl mx-auto p-6"},U={key:0},I={class:"grid grid-cols-4 gap-4"},R=["onClick"],G={key:1},J={class:"flex justify-between items-center mb-4"},K={class:"text-sm bg-white p-2 rounded"},W={class:"font-semibold"},X={class:"font-semibold"},Z={class:"font-semibold"},ee={class:"flex gap-4 items-center"},te={class:"text-sm font-mono bg-gray-100 px-3 py-1 rounded border border-blue-400"},ae={key:0,class:"p-6 bg-white rounded-2xl shadow mb-6"},se={class:"mb-6 font-semibold"},oe={class:"space-y-3"},ne=["onClick"],ie={class:"font-bold mr-3"},le={class:"grid grid-cols-10 gap-2"},re=["onClick"],ue={key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},de={class:"bg-white rounded-lg p-6 w-full max-w-md"},ce={class:"mb-2"},ve={class:"mb-6"},he={key:3,class:"fixed inset-0 flex items-center justify-center bg-black/50 z-50"},be={class:"bg-white rounded-2xl shadow-lg w-[400px] p-6 text-center"},ge={class:"mb-4 text-lg"},fe={class:"font-bold"},T=25*60,ke=M({__name:"test",setup(me){const z=[{q:"Qaysi belgida to‘xtash taqiqlanadi?",opts:["To‘xtash va turish taqiqlangan","Piyodalar o‘tish joyi","Parkovka joyi","Yonilg‘i quyish shoxobchasi"],correct:0},{q:"Svetofor qizil yonib turganda haydovchi nima qilishi kerak?",opts:["To‘xtashi kerak","Tezlikni oshirib o‘tib ketishi kerak","Sariq signalni kutishi kerak","Yo‘lning holatiga qarab harakatlanishi mumkin"],correct:0},{q:"Qaysi holatda chapga burilish mumkin?",opts:["Faqat yashil chiroqda","Yashil yoki chapga burilish strelkasi yoqqanda","Har doim to‘xtamasdan","Svetofor ishlamaganida"],correct:1},{q:"Haydovchi svetofor ishlamagan joyda qanday harakatlanishi kerak?",opts:["Yo‘l belgilariga amal qilish","Harakatlanmasligi kerak","O‘z xohishiga ko‘ra yurishi mumkin","Tezlikni oshirish kerak"],correct:0},{q:"Agar oldindan «To‘xtash taqiqlangan» belgisi bo‘lsa, qayerda to‘xtash mumkin?",opts:["Belgidan keyin 15 metr uzoqlikda","Belgidan oldin 15 metr uzoqlikda","Istalgan joyda","Faqat chorrahada"],correct:1}],A=Array.from({length:20},(a,e)=>({id:e+1,questions:Array.from({length:25},(s,n)=>{const f=z[n%z.length];return{id:(e+1)*1e3+n+1,question:`Savol ${n+1}: ${f.q}`,options:f.opts,correct:f.correct}})})),r=h(null),d=h(0),u=h({}),c=h(!1),_=h(!1),v=h(T);let p=null;function S(){k(),v.value=T,p=window.setInterval(()=>{v.value>0?v.value--:j()},1e3)}function k(){p!==null&&(clearInterval(p),p=null)}D(()=>k());const B=m(()=>{const a=Math.floor(v.value/60),e=v.value%60;return`${String(a).padStart(2,"0")}:${String(e).padStart(2,"0")}`}),y=m(()=>r.value?r.value.questions.length:25),g=m(()=>{var a;return((a=r.value)==null?void 0:a.questions[d.value])??null}),x=m(()=>{if(!r.value)return 0;let a=0;for(const e of r.value.questions)u.value[e.id]===e.correct&&a++;return a}),V=m(()=>Math.round(x.value/y.value*100));function F(a){r.value=a,d.value=0,u.value={},c.value=!1,S()}function N(){r.value&&(u.value={},d.value=0,c.value=!1,v.value=T,S())}function O(a,e){c.value||u.value[a]===void 0&&(u.value={...u.value,[a]:e})}function Y(a,e){const s=u.value[a.id];return s==null?"hover:bg-gray-50 border-gray-200":s===e?e===a.correct?"bg-green-100 border-green-400 border":"bg-red-100 border-red-400 border":"border-gray-200 bg-white opacity-80"}function H(a){d.value=a}function L(a,e){const s=u.value[a.id];return e===d.value?"bg-blue-500 text-white border-blue-600":s!=null?"bg-gray-300 border-gray-400":"bg-white border-gray-200 hover:bg-gray-50"}function j(a=!1){c.value||(k(),a?_.value=!0:c.value=!0)}function Q(){k(),r.value=null,d.value=0,u.value={},c.value=!1,_.value=!1}return(a,e)=>(i(),l("section",P,[r.value?(i(),l("div",G,[t("div",J,[t("div",K,[e[2]||(e[2]=b(" Variant ")),t("span",W,o(r.value.id),1),e[3]||(e[3]=b(" — Savol ")),t("span",X,o(d.value+1),1),e[4]||(e[4]=b("/")),t("span",Z,o(y.value),1)]),t("div",ee,[t("div",te,o(B.value),1),t("button",{onClick:e[0]||(e[0]=s=>j()),class:"px-3 py-1 rounded bg-red-500 text-white hover:bg-red-600"}," Test tugatish ")])]),g.value?(i(),l("div",ae,[t("h2",se,o(g.value.question),1),t("ul",oe,[(i(!0),l(q,null,w(g.value.options,(s,n)=>(i(),l("li",{key:n,role:"button",onClick:f=>O(g.value.id,n),class:$(["p-3 border rounded cursor-pointer transition select-none",Y(g.value,n)])},[t("span",ie,"F"+o(n+1)+".",1),b(" "+o(s),1)],10,ne))),128))])])):C("",!0),t("div",le,[(i(!0),l(q,null,w(r.value.questions,(s,n)=>(i(),l("button",{key:s.id,onClick:f=>H(n),class:$(["py-2 rounded border text-sm font-semibold",L(s,n)])},o(n+1),11,re))),128))])])):(i(),l("div",U,[e[1]||(e[1]=t("h2",{class:"text-2xl font-bold mb-4 text-white"},"Variantlar",-1)),t("div",I,[(i(!0),l(q,null,w(E(A),s=>(i(),l("button",{key:s.id,onClick:n=>F(s),class:"py-3 rounded-xl shadow text-white bg-blue-600 hover:bg-blue-700 transition"}," Variant "+o(s.id),9,R))),128))])])),c.value?(i(),l("div",ue,[t("div",de,[e[5]||(e[5]=t("h3",{class:"text-2xl font-bold mb-2"},"Natija",-1)),t("p",ce,"To‘g‘ri javoblar: "+o(x.value)+" / "+o(y.value),1),t("p",ve,"Foiz: "+o(V.value)+"%",1),t("div",{class:"flex justify-end gap-3"},[t("button",{onClick:Q,class:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"}," Ortga "),t("button",{onClick:N,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," Qayta boshlash ")])])])):C("",!0),_.value?(i(),l("div",he,[t("div",be,[e[7]||(e[7]=t("h2",{class:"text-xl font-bold mb-4"},"⏰ Vaqtingiz tugadi!",-1)),t("p",ge,[e[6]||(e[6]=b(" Sizning natijangiz: ")),t("span",fe,o(x.value)+" / "+o(y.value),1),b(" ("+o(V.value)+"%) ",1)]),t("button",{onClick:Q,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"}," Variantlarga qaytish ")])])):C("",!0)]))}});export{ke as default};
